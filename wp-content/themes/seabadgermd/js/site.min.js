(function(){"use strict";const toTheTopThreshold=600;const hideNavbarThreshold=200;const hideNavbarOffset=100;const $=document.querySelector.bind(document);const toTheTopBtn=$("#to-the-top");const mainNavbar=$("#main-navbar.fixed-top.autohide");let lastY=0;let toTopIsOn=false;let navbarIsOn=true;let mainNavbarDisplay;let scrollOffset=0;let autoHideToTopTimer;function showToTop(){toTheTopBtn.style.display="block";toTopIsOn=true;toTheTopAutohide()}function hideToTop(){toTheTopBtn.style.display="none";toTopIsOn=false}function toTheTop(event){event.preventDefault();jQuery("html, body").animate({scrollTop:0},300);return false}function toTheTopAutohide(){clearTimeout(autoHideToTopTimer);autoHideToTopTimer=setTimeout(()=>{hideToTop()},4e3)}toTheTopBtn.addEventListener("click",toTheTop);toTheTopBtn.addEventListener("mouseenter",()=>{clearTimeout(autoHideToTopTimer)});toTheTopBtn.addEventListener("mouseout",()=>{toTheTopAutohide()});function hideNavbar(){navbarIsOn=false;mainNavbarDisplay=mainNavbar.style.display;jQuery("#main-navbar").animate({opacity:0},{duration:300,complete:()=>{mainNavbar.style.display="none";mainNavbar.style.opacity=0;navbarIsOn=false},fail:()=>{mainNavbar.style.display=mainNavbarDisplay;mainNavbar.style.opacity=1;navbarIsOn=true}})}function showNavbar(){navbarIsOn=true;mainNavbar.style.display=mainNavbarDisplay;jQuery("#main-navbar").animate({opacity:1},{duration:300,complete:()=>{mainNavbar.style.display=mainNavbarDisplay;mainNavbar.style.opacity=1;navbarIsOn=true},fail:()=>{mainNavbar.style.display="none";mainNavbar.style.opacity=0;navbarIsOn=false}})}function setScrollOffset(){if(lastY<window.scrollY&&scrollOffset<0||lastY>window.scrollY&&scrollOffset>=0){scrollOffset=window.scrollY-lastY}else{scrollOffset+=window.scrollY-lastY}lastY=window.scrollY}window.addEventListener("scroll",()=>{if(typeof toTheTopBtn!=="undefined"&&toTheTopBtn!==null){if(!toTopIsOn&&window.scrollY>=toTheTopThreshold){requestAnimationFrame(showToTop)}if(toTopIsOn&&window.scrollY<toTheTopThreshold){requestAnimationFrame(hideToTop)}}if(typeof mainNavbar!=="undefined"&&mainNavbar!==null){if(navbarIsOn&&scrollOffset>hideNavbarOffset&&window.scrollY>=hideNavbarThreshold){requestAnimationFrame(hideNavbar)}else if(!navbarIsOn&&scrollOffset<-hideNavbarOffset){requestAnimationFrame(showNavbar)}setScrollOffset()}},false)})();
